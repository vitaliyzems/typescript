function dateToUnixStamp(date) {
    return date.getTime() / 1000;
}
function responseToJson(requestPromise) {
    return requestPromise
        .then((response) => {
        return response.text();
    })
        .then((response) => {
        return JSON.parse(response);
    });
}
export function search(data) {
    const checkInDate = new Date(data.checkInDate);
    const checkOutDate = new Date(data.checkOutDate);
    let url = `http://localhost:3030/places?` +
        `checkInDate=${dateToUnixStamp(checkInDate)}&` +
        `checkOutDate=${dateToUnixStamp(checkOutDate)}&` +
        `coordinates=59.9386,30.3141`;
    if (data.maxPrice != null) {
        url += `&maxPrice=${data.maxPrice}`;
    }
    return responseToJson(fetch(url));
}
// function book(placeId, checkInDate, checkOutDate) {
//   return responseToJson(fetch(
//     `http://localhost:3030/places/${placeId}?` +
//     `checkInDate=${dateToUnixStamp(checkInDate)}&` +
//     `checkOutDate=${dateToUnixStamp(checkOutDate)}&`,
//     { method: 'PATCH' }
//   ));
// }
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmV0Y2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZmV0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsU0FBUyxlQUFlLENBQUMsSUFBVTtJQUNqQyxPQUFPLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUM7QUFDL0IsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFDLGNBQTRCO0lBQ2xELE9BQU8sY0FBYztTQUNsQixJQUFJLENBQUMsQ0FBQyxRQUE4QixFQUFFLEVBQUU7UUFDdkMsT0FBTyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekIsQ0FBQyxDQUFDO1NBQ0QsSUFBSSxDQUFDLENBQUMsUUFBZ0IsRUFBRSxFQUFFO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5QixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLElBQW9CO0lBQ3pDLE1BQU0sV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQyxNQUFNLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFakQsSUFBSSxHQUFHLEdBQUcsK0JBQStCO1FBQ3ZDLGVBQWUsZUFBZSxDQUFDLFdBQVcsQ0FBQyxHQUFHO1FBQzlDLGdCQUFnQixlQUFlLENBQUMsWUFBWSxDQUFDLEdBQUc7UUFDaEQsNkJBQTZCLENBQUM7SUFFaEMsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtRQUN6QixHQUFHLElBQUksYUFBYSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7S0FDckM7SUFFRCxPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNwQyxDQUFDO0FBRUQsc0RBQXNEO0FBQ3RELGlDQUFpQztBQUNqQyxtREFBbUQ7QUFDbkQsdURBQXVEO0FBQ3ZELHdEQUF3RDtBQUN4RCwwQkFBMEI7QUFDMUIsUUFBUTtBQUNSLElBQUkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZWFyY2hGb3JtRGF0YSB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG5mdW5jdGlvbiBkYXRlVG9Vbml4U3RhbXAoZGF0ZTogRGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgLyAxMDAwO1xufVxuXG5mdW5jdGlvbiByZXNwb25zZVRvSnNvbihyZXF1ZXN0UHJvbWlzZTogUHJvbWlzZTxhbnk+KSB7XG4gIHJldHVybiByZXF1ZXN0UHJvbWlzZVxuICAgIC50aGVuKChyZXNwb25zZTogeyB0ZXh0OiAoKSA9PiBhbnk7IH0pID0+IHtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgfSlcbiAgICAudGhlbigocmVzcG9uc2U6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoKGRhdGE6IFNlYXJjaEZvcm1EYXRhKSB7XG4gIGNvbnN0IGNoZWNrSW5EYXRlID0gbmV3IERhdGUoZGF0YS5jaGVja0luRGF0ZSk7XG4gIGNvbnN0IGNoZWNrT3V0RGF0ZSA9IG5ldyBEYXRlKGRhdGEuY2hlY2tPdXREYXRlKTtcblxuICBsZXQgdXJsID0gYGh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9wbGFjZXM/YCArXG4gICAgYGNoZWNrSW5EYXRlPSR7ZGF0ZVRvVW5peFN0YW1wKGNoZWNrSW5EYXRlKX0mYCArXG4gICAgYGNoZWNrT3V0RGF0ZT0ke2RhdGVUb1VuaXhTdGFtcChjaGVja091dERhdGUpfSZgICtcbiAgICBgY29vcmRpbmF0ZXM9NTkuOTM4NiwzMC4zMTQxYDtcblxuICBpZiAoZGF0YS5tYXhQcmljZSAhPSBudWxsKSB7XG4gICAgdXJsICs9IGAmbWF4UHJpY2U9JHtkYXRhLm1heFByaWNlfWA7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VUb0pzb24oZmV0Y2godXJsKSk7XG59XG5cbi8vIGZ1bmN0aW9uIGJvb2socGxhY2VJZCwgY2hlY2tJbkRhdGUsIGNoZWNrT3V0RGF0ZSkge1xuLy8gICByZXR1cm4gcmVzcG9uc2VUb0pzb24oZmV0Y2goXG4vLyAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9wbGFjZXMvJHtwbGFjZUlkfT9gICtcbi8vICAgICBgY2hlY2tJbkRhdGU9JHtkYXRlVG9Vbml4U3RhbXAoY2hlY2tJbkRhdGUpfSZgICtcbi8vICAgICBgY2hlY2tPdXREYXRlPSR7ZGF0ZVRvVW5peFN0YW1wKGNoZWNrT3V0RGF0ZSl9JmAsXG4vLyAgICAgeyBtZXRob2Q6ICdQQVRDSCcgfVxuLy8gICApKTtcbi8vIH1cbiJdfQ==