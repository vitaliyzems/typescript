export function toggleFavoriteItem(item) {
    const icon = document.querySelector(`[data-id="${item.id}"]`);
    const fav = document.querySelector('.fav');
    const favoriteItems = JSON.parse(localStorage.getItem('favoriteItems'));
    if (favoriteItems == null) {
        localStorage.favoriteItems = JSON.stringify({ [item.id]: item });
        icon.classList.add('active');
        fav.innerHTML = renderFavoritesBlock(getFavoritesAmount());
        return;
    }
    if (favoriteItems[item.id] == null) {
        favoriteItems[item.id] = item;
        localStorage.favoriteItems = JSON.stringify(favoriteItems);
        fav.innerHTML = renderFavoritesBlock(getFavoritesAmount());
        icon.classList.add('active');
    }
    else {
        delete favoriteItems[item.id];
        localStorage.favoriteItems = JSON.stringify(favoriteItems);
        fav.innerHTML = renderFavoritesBlock(getFavoritesAmount());
        icon.classList.remove('active');
    }
}
export function getFavoritesAmount() {
    const favoriteItemsJson = localStorage.favoriteItems;
    if (!favoriteItemsJson) {
        return 0;
    }
    const favoriteItems = JSON.parse(favoriteItemsJson);
    const count = Object.keys(favoriteItems).length;
    return count;
}
export function renderFavoritesBlock(favoritesCaption) {
    if (favoritesCaption === 0) {
        return `
      <i class="heart-icon"></i> ничего нет
    `;
    }
    return `
    <i class="heart-icon active"></i> ${favoritesCaption}
  `;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmF2b3JpdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZmF2b3JpdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxVQUFVLGtCQUFrQixDQUFDLElBQW1CO0lBQ3BELE1BQU0sSUFBSSxHQUFnQixRQUFRLENBQUMsYUFBYSxDQUFDLGFBQWEsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0UsTUFBTSxHQUFHLEdBQWdCLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFeEQsTUFBTSxhQUFhLEdBQWtCLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0lBRXZGLElBQUksYUFBYSxJQUFJLElBQUksRUFBRTtRQUN6QixZQUFZLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO1FBQzNELE9BQU87S0FDUjtJQUVELElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUU7UUFDbEMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDOUIsWUFBWSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzNELEdBQUcsQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQzlCO1NBQU07UUFDTCxPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDOUIsWUFBWSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzNELEdBQUcsQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxrQkFBa0I7SUFDaEMsTUFBTSxpQkFBaUIsR0FBVyxZQUFZLENBQUMsYUFBYSxDQUFDO0lBRTdELElBQUksQ0FBQyxpQkFBaUIsRUFBRTtRQUN0QixPQUFPLENBQUMsQ0FBQztLQUNWO0lBRUQsTUFBTSxhQUFhLEdBQWtCLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNuRSxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUVoRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLFVBQVUsb0JBQW9CLENBQUMsZ0JBQWtDO0lBQ3JFLElBQUksZ0JBQWdCLEtBQUssQ0FBQyxFQUFFO1FBQzFCLE9BQU87O0tBRU4sQ0FBQztLQUNIO0lBRUQsT0FBTzt3Q0FDK0IsZ0JBQWdCO0dBQ3JELENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmF2b3JpdGVIb3RlbCwgRmF2b3JpdGVJdGVtcywgRmF2b3JpdGVzQ2FwdGlvbiB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRmF2b3JpdGVJdGVtKGl0ZW06IEZhdm9yaXRlSG90ZWwpIHtcbiAgY29uc3QgaWNvbjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7aXRlbS5pZH1cIl1gKTtcbiAgY29uc3QgZmF2OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYXYnKTtcblxuICBjb25zdCBmYXZvcml0ZUl0ZW1zOiBGYXZvcml0ZUl0ZW1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmF2b3JpdGVJdGVtcycpKTtcblxuICBpZiAoZmF2b3JpdGVJdGVtcyA9PSBudWxsKSB7XG4gICAgbG9jYWxTdG9yYWdlLmZhdm9yaXRlSXRlbXMgPSBKU09OLnN0cmluZ2lmeSh7IFtpdGVtLmlkXTogaXRlbSB9KTtcbiAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGZhdi5pbm5lckhUTUwgPSByZW5kZXJGYXZvcml0ZXNCbG9jayhnZXRGYXZvcml0ZXNBbW91bnQoKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGZhdm9yaXRlSXRlbXNbaXRlbS5pZF0gPT0gbnVsbCkge1xuICAgIGZhdm9yaXRlSXRlbXNbaXRlbS5pZF0gPSBpdGVtO1xuICAgIGxvY2FsU3RvcmFnZS5mYXZvcml0ZUl0ZW1zID0gSlNPTi5zdHJpbmdpZnkoZmF2b3JpdGVJdGVtcyk7XG4gICAgZmF2LmlubmVySFRNTCA9IHJlbmRlckZhdm9yaXRlc0Jsb2NrKGdldEZhdm9yaXRlc0Ftb3VudCgpKTtcbiAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBmYXZvcml0ZUl0ZW1zW2l0ZW0uaWRdO1xuICAgIGxvY2FsU3RvcmFnZS5mYXZvcml0ZUl0ZW1zID0gSlNPTi5zdHJpbmdpZnkoZmF2b3JpdGVJdGVtcyk7XG4gICAgZmF2LmlubmVySFRNTCA9IHJlbmRlckZhdm9yaXRlc0Jsb2NrKGdldEZhdm9yaXRlc0Ftb3VudCgpKTtcbiAgICBpY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGYXZvcml0ZXNBbW91bnQoKTogbnVtYmVyIHtcbiAgY29uc3QgZmF2b3JpdGVJdGVtc0pzb246IHN0cmluZyA9IGxvY2FsU3RvcmFnZS5mYXZvcml0ZUl0ZW1zO1xuXG4gIGlmICghZmF2b3JpdGVJdGVtc0pzb24pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGNvbnN0IGZhdm9yaXRlSXRlbXM6IEZhdm9yaXRlSXRlbXMgPSBKU09OLnBhcnNlKGZhdm9yaXRlSXRlbXNKc29uKTtcbiAgY29uc3QgY291bnQgPSBPYmplY3Qua2V5cyhmYXZvcml0ZUl0ZW1zKS5sZW5ndGg7XG5cbiAgcmV0dXJuIGNvdW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRmF2b3JpdGVzQmxvY2soZmF2b3JpdGVzQ2FwdGlvbjogRmF2b3JpdGVzQ2FwdGlvbik6IHN0cmluZyB7XG4gIGlmIChmYXZvcml0ZXNDYXB0aW9uID09PSAwKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxpIGNsYXNzPVwiaGVhcnQtaWNvblwiPjwvaT4g0L3QuNGH0LXQs9C+INC90LXRglxuICAgIGA7XG4gIH1cblxuICByZXR1cm4gYFxuICAgIDxpIGNsYXNzPVwiaGVhcnQtaWNvbiBhY3RpdmVcIj48L2k+ICR7ZmF2b3JpdGVzQ2FwdGlvbn1cbiAgYDtcbn0iXX0=